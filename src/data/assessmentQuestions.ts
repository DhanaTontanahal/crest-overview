export type DimensionMetric = 'Maturity' | 'Performance' | 'Stability' | 'Agility';

export interface AssessmentQuestion {
  id: string;
  pillar: string;
  question: string;
  lowMaturity: string;
  highMaturity: string;
  observableMetrics: string;
  dimensionMetric: DimensionMetric;
  subMetric: string;
}

export const assessmentQuestions: AssessmentQuestion[] = [
  // 1. Business and Technology
  {
    id: 'bt-1',
    pillar: 'Business and Technology',
    question: 'To what extent do business and technology teams work as one team with shared objectives, joint OKRs, and shared decision-making?',
    lowMaturity: 'Business and technology operate in silos; minimal collaboration; success measured by delivery of scope and timelines; no shared accountability for outcomes.',
    highMaturity: 'Fully integrated product-centric operating model; business and technology co-own outcomes, measured by customer value and business impact; joint OKRs tied to product and service outcomes; continuous transformation mindset.',
    observableMetrics: 'There is a roadmap which is published, provides and provide a transparent, rolling view covering 15 to 18 months. It must be a joint roadmap, inclusive of both business and technology commitments. The roadmap should be 360-degree, incorporating service-sustaining work, mandatory legal requirements, and product feature builds.',
    dimensionMetric: 'Maturity',
    subMetric: 'Leadership',
  },
  {
    id: 'bt-2',
    pillar: 'Business and Technology',
    question: 'How embedded are feedback loops from customers and operations in driving improvements?',
    lowMaturity: 'Reactive approach to incidents and changes; limited visibility into product performance; feedback loops are rare or ad hoc.',
    highMaturity: 'Continuous improvement culture; feedback loops from customers and operations drive decisions; data-driven, real-time product performance and customer insights.',
    observableMetrics: 'NPS, reduction in customer impacting incidents (example High: 10% reduction per quarter, Medium: 5% & Low: 0%). BPL TPL Shred Objectives. Incident management control review.',
    dimensionMetric: 'Maturity',
    subMetric: 'Culture',
  },
  // 2. Run and Change Together
  {
    id: 'rc-1',
    pillar: 'Run and Change Together',
    question: 'How integrated are product teams in owning both build (change) and run (operations) for their products?',
    lowMaturity: 'Technology and business are separate; operations handled by centralized teams; change handled by project teams; reactive incident management; minimal automation.',
    highMaturity: 'Autonomous product feature teams own strategy, build, run, and evolution; agentic operations; high automation; proactive incident prevention; continuous improvement culture. Tech Debt for service improvement have same priority as new features.',
    observableMetrics: 'Tech debt: High: 5% of backlog, Medium: 5-15%, Low: >15%. % Engineers ITIL trained. High-risk vulnerabilities not remediated within 90 days. Vulnerability Backlog.',
    dimensionMetric: 'Stability',
    subMetric: 'Role Clarity',
  },
  {
    id: 'rc-2',
    pillar: 'Run and Change Together',
    question: 'How well do teams balance operational stability with change initiatives?',
    lowMaturity: 'Success measured by activity completion, not product outcomes; manual handoffs between run and change functions; KPIs mostly technical.',
    highMaturity: 'Stability and innovation go hand-in-hand; operational health and change initiatives harmonized; reliability and resilience embedded in delivery; shared success metrics.',
    observableMetrics: 'Service availability. Change fail rate. Dependencies volumes.',
    dimensionMetric: 'Performance',
    subMetric: 'Change Fail Rate',
  },
  // 3. Project to Product
  {
    id: 'pp-1',
    pillar: 'Project to Product',
    question: 'How much funding is allocated to enduring products versus temporary projects?',
    lowMaturity: 'Funding is project-based; teams organized around projects; minimal product ownership.',
    highMaturity: 'Enduring funding for product teams; portfolio organized around products; autonomous, empowered product teams.',
    observableMetrics: 'Enduring vs one-off funding (should be available in finance data).',
    dimensionMetric: 'Maturity',
    subMetric: 'Foundation',
  },
  {
    id: 'pp-2',
    pillar: 'Project to Product',
    question: 'How clearly are teams organized around products rather than projects?',
    lowMaturity: 'Teams are organized around projects; product ownership is unclear or minimal.',
    highMaturity: 'Teams are organized around products; clear accountability and funding models; value stream management.',
    observableMetrics: 'Published Product Roadmaps. Alignment to OD Guardrails (no non-strategic roles).',
    dimensionMetric: 'Maturity',
    subMetric: 'Clarity',
  },
  {
    id: 'pp-3',
    pillar: 'Project to Product',
    question: 'How well are product metrics and value streams managed and tracked?',
    lowMaturity: 'Product metrics are basic or absent; value streams not defined or managed.',
    highMaturity: 'Product metrics and value streams are managed and tracked; continuous improvement culture; decisions based on outcomes.',
    observableMetrics: 'Customer Journey Maps and Blueprints are complete and maintained.',
    dimensionMetric: 'Performance',
    subMetric: 'Throughput',
  },
  {
    id: 'pp-4',
    pillar: 'Project to Product',
    question: 'Do you have a clear understanding of our customers\' problems and needs, and consistently deliver solutions to address them?',
    lowMaturity: 'Decisions are based on outputs (e.g., delivery of scope, timelines); outcome-based thinking is rare.',
    highMaturity: 'Decisions are based on business and customer outcomes; OKRs and KPIs are outcome-focused; persistent funding supports value delivery.',
    observableMetrics: 'Pulse survey response (understand why decisions are being made). 18 months rolling roadmap with OKRs specific to address customer problems.',
    dimensionMetric: 'Maturity',
    subMetric: 'Culture',
  },
  {
    id: 'pp-5',
    pillar: 'Project to Product',
    question: 'How mature is backlog management and iterative value release?',
    lowMaturity: 'Backlog management is ad hoc; value release is infrequent and not iterative.',
    highMaturity: 'Backlog management is continuous and collaborative; iterative value release is standard; technical debt is managed strategically.',
    observableMetrics: 'Predictability, Deployment frequency & Mean Time to Recover.',
    dimensionMetric: 'Performance',
    subMetric: 'Predictability',
  },
  {
    id: 'pp-6',
    pillar: 'Project to Product',
    question: 'To what degree are you teams able to generate new ideas, test possible solutions, and and innovate?',
    lowMaturity: 'Experimentation is rare or ad hoc; feature toggles not used.',
    highMaturity: 'Continuous experimentation and innovation looking at Horizon 3.',
    observableMetrics: 'Do Tech and Product roadmaps extend to Horizon 3.',
    dimensionMetric: 'Agility',
    subMetric: 'Innovation',
  },
  // 4. All in on Agile
  {
    id: 'ag-1',
    pillar: 'All in on Agile',
    question: 'How consistently are agile ceremonies (stand-ups, planning, retrospectives) practiced across teams?',
    lowMaturity: 'Agile ceremonies minimally practiced or ad hoc; status meetings replace agile ceremonies; inconsistent use of agile tools.',
    highMaturity: 'Agile is cultural; ceremonies are embedded and habitual; continuous planning and real-time reviews; improvement is habitual and part of daily work.',
    observableMetrics: 'For discussion: evidence to include calendar of agile ceremonies and sprint cycles. Sprint retro: Evidence for effectiveness of ceremonies.',
    dimensionMetric: 'Agility',
    subMetric: 'Responsiveness',
  },
  {
    id: 'ag-2',
    pillar: 'All in on Agile',
    question: 'How well are agile tools and practices embedded in daily work?',
    lowMaturity: 'Agile tooling used minimally or inconsistently; teams revert to traditional project management.',
    highMaturity: 'Agile tools and practices are part of how we work; adaptive, flow-based planning; automation coverage > 90%; continuous feedback and improvement.',
    observableMetrics: 'Flow metrics: Cycle Time & Throughput. Quarter on quarter velocity improvement for the feature teams.',
    dimensionMetric: 'Agility',
    subMetric: 'Adaptability',
  },
  {
    id: 'ag-3',
    pillar: 'All in on Agile',
    question: 'How predictable is delivery (e.g., % of commitments met, cycle time)?',
    lowMaturity: 'Delivery predictability <50%; lead time >90 days; sporadic, big-bang releases; high change failure rate.',
    highMaturity: 'Time <14 days (often hours); continuous deployment; change failure rate low.',
    observableMetrics: 'Cycle time, feature predictability, feature throughput.',
    dimensionMetric: 'Performance',
    subMetric: 'Predictability',
  },
  {
    id: 'ag-4',
    pillar: 'All in on Agile',
    question: 'How frequently are deployments/releases made (e.g., weekly, daily)?',
    lowMaturity: 'Deployment frequency is low (monthly or less); releases are large and infrequent.',
    highMaturity: 'Deployment frequency is high (daily or on-demand); continuous deployment; success rate; experimentation throughput is high.',
    observableMetrics: 'Deployment Frequency. Highest maturity: Deployment on demand.',
    dimensionMetric: 'Performance',
    subMetric: 'Deployment Frequency',
  },
  {
    id: 'ag-5',
    pillar: 'All in on Agile',
    question: 'How effectively do teams use retrospectives and stakeholder feedback to drive improvement?',
    lowMaturity: 'Retrospectives are occasional or not systematic; feedback is not regularly acted upon.',
    highMaturity: 'Retrospectives are embedded in daily work and actioned; continuous stakeholder engagement; improvement is habitual and data-driven.',
    observableMetrics: 'Observational (how often are they held, who participates). Retrospective notes documented & shared with team for each sprint. Retro notes showing improvements over period of time for the issues/feedback. Stakeholders/Customer feedback loop established.',
    dimensionMetric: 'Agility',
    subMetric: 'Continuous Improvement',
  },
  {
    id: 'ag-6',
    pillar: 'All in on Agile',
    question: 'How adaptive is planning and prioritisation in response to changing needs?',
    lowMaturity: 'Planning is rigid, timeboxed poorly, or not responsive to change; backlog refinement is rare.',
    highMaturity: 'Product Owners are enabled to prioritise autonomously; adaptive, flow-based approaches (Kanban, Lean Portfolio); real-time reviews and prioritization.',
    observableMetrics: 'Predictability. Churn.',
    dimensionMetric: 'Agility',
    subMetric: 'Adaptability',
  },
  // 5. Engineering Excellence
  {
    id: 'ee-1',
    pillar: 'Engineering Excellence',
    question: 'How balanced is your engineering team across senior, mid-level and early-career talent, and how intentionally is that mix shaped?',
    lowMaturity: 'Over-reliance on seniors or contractors; thin mid-level layer; inconsistent early-career pipeline; firefighting rather than capability planning.',
    highMaturity: 'Clear skill pyramid; strong senior core; healthy mid-level depth; structured early-career pathways; intentional workforce planning.',
    observableMetrics: 'Diamond structure based on skill assessment at the lab level.',
    dimensionMetric: 'Stability',
    subMetric: 'Attrition Rate',
  },
  {
    id: 'ee-2',
    pillar: 'Engineering Excellence',
    question: 'How mature is CI/CD integration for automated builds, deployments, and testing?',
    lowMaturity: 'Manual or ad hoc build and deploy processes; limited test automation; long release cycles.',
    highMaturity: 'Fully automated CI/CD pipelines; continuous integration, testing, and deployment; fast, reliable release cycles.',
    observableMetrics: 'Pipeline coverage, build success rate, deployment frequency, test automation coverage.',
    dimensionMetric: 'Performance',
    subMetric: 'Mean Time to Deploy',
  },
  {
    id: 'ee-3',
    pillar: 'Engineering Excellence',
    question: 'How well is AI-assisted development and predictive analytics embedded in engineering practices?',
    lowMaturity: 'No AI tooling adoption; manual code reviews; reactive defect management.',
    highMaturity: 'AI copilots for code generation and review; predictive analytics for defect and incident prevention; automated quality gates.',
    observableMetrics: 'AI tooling adoption rate, AI-assisted code coverage, predictive incident reduction.',
    dimensionMetric: 'Agility',
    subMetric: 'Innovation',
  },
  {
    id: 'ee-4',
    pillar: 'Engineering Excellence',
    question: 'How well is technical debt tracked, managed, and reduced across the platform?',
    lowMaturity: 'Technical debt is not tracked or managed; accumulates over time; impacts delivery speed.',
    highMaturity: 'Technical debt is continuously tracked, prioritized, and reduced; part of regular backlog management.',
    observableMetrics: 'Tech debt backlog size, remediation rate, impact on velocity.',
    dimensionMetric: 'Performance',
    subMetric: 'Lead Time',
  },
  // 6. Dynamic and Well Controlled
  {
    id: 'dw-1',
    pillar: 'Dynamic and Well Controlled',
    question: 'How mature are automated controls, risk management, and policy-as-code practices?',
    lowMaturity: 'Controls are manual; risk management is reactive; compliance is checkbox-based.',
    highMaturity: 'Automated controls and policy-as-code; proactive risk management; continuous compliance monitoring.',
    observableMetrics: 'Automation coverage for controls, audit findings, compliance score.',
    dimensionMetric: 'Stability',
    subMetric: 'Succession Plan',
  },
  {
    id: 'dw-2',
    pillar: 'Dynamic and Well Controlled',
    question: 'How seamlessly are governance and compliance integrated into daily operations?',
    lowMaturity: 'Governance is separate from delivery; compliance treated as a gate; slows delivery.',
    highMaturity: 'Governance is embedded in workflows; compliance is continuous and automated; enables rather than blocks delivery.',
    observableMetrics: 'Time to compliance, governance automation rate, delivery impact score.',
    dimensionMetric: 'Agility',
    subMetric: 'Time to Market',
  },
  {
    id: 'dw-3',
    pillar: 'Dynamic and Well Controlled',
    question: 'To what extent do your teams operate as fully cross-functional units with ownership across product, engineering, design, data and risk?',
    lowMaturity: 'Teams are siloed by function; handoffs between disciplines; limited cross-functional ownership.',
    highMaturity: 'Fully cross-functional teams with shared ownership; product, engineering, design, data and risk work as one.',
    observableMetrics: 'Team composition audits, cross-functional initiative success rate.',
    dimensionMetric: 'Stability',
    subMetric: 'Tenure',
  },
];

export interface Assessment {
  id: string;
  platform: string;
  quarter: string;
  submittedBy: string; // platform name (acting as TPL identifier)
  submittedAt: string;
  reviewedBy: string | null; // peer TPL platform name
  reviewedAt: string | null;
  status: 'draft' | 'submitted' | 'reviewed';
  answers: AssessmentAnswer[];
}

export interface AssessmentAnswer {
  questionId: string;
  score: number; // 1-5
  comments: string;
}

// Sample pre-filled assessments for demo
export const sampleAssessments: Assessment[] = [
  {
    id: 'assess-consumer-q4',
    platform: 'Consumer',
    quarter: 'Q4 2025',
    submittedBy: 'Consumer',
    submittedAt: '2025-12-15',
    reviewedBy: 'Commercial',
    reviewedAt: '2025-12-18',
    status: 'reviewed',
    answers: [
      { questionId: 'bt-1', score: 3, comments: 'Joint roadmap published but still some hidden tech roadmaps.' },
      { questionId: 'bt-2', score: 3, comments: 'NPS tracked but feedback loops are inconsistent.' },
      { questionId: 'rc-1', score: 3, comments: 'Some teams own run and change but not consistent.' },
      { questionId: 'rc-2', score: 2, comments: 'Change fail rate still high, dependencies not well managed.' },
      { questionId: 'pp-1', score: 3, comments: 'Moving towards product funding but still project-heavy.' },
      { questionId: 'pp-2', score: 2, comments: 'Teams still project-aligned in many areas.' },
      { questionId: 'pp-3', score: 3, comments: 'Customer journey maps exist but not fully maintained.' },
      { questionId: 'pp-4', score: 4, comments: 'Good understanding of customer problems.' },
      { questionId: 'pp-5', score: 2, comments: 'Backlog management is ad hoc in several teams.' },
      { questionId: 'pp-6', score: 3, comments: 'Some experimentation happening.' },
      { questionId: 'ag-1', score: 3, comments: 'Ceremonies practiced but not consistently effective.' },
      { questionId: 'ag-2', score: 3, comments: 'Agile tools in use but adoption varies.' },
      { questionId: 'ag-3', score: 4, comments: 'Predictability improving, cycle time reducing.' },
      { questionId: 'ag-4', score: 2, comments: 'Monthly releases still common.' },
      { questionId: 'ag-5', score: 3, comments: 'Retros happen but actions not always tracked.' },
      { questionId: 'ag-6', score: 4, comments: 'Planning is becoming more adaptive.' },
      { questionId: 'ee-1', score: 1, comments: 'Heavy reliance on contractors, thin mid-level.' },
      { questionId: 'ee-2', score: 1, comments: 'CI/CD minimal, mostly manual.' },
      { questionId: 'ee-3', score: 1, comments: 'No AI tooling adopted yet.' },
      { questionId: 'ee-4', score: 2, comments: 'Tech debt not systematically tracked.' },
      { questionId: 'dw-1', score: 4, comments: 'Good automated controls in place.' },
      { questionId: 'dw-2', score: 2, comments: 'Governance still creates bottlenecks.' },
      { questionId: 'dw-3', score: 2, comments: 'Teams still somewhat siloed.' },
    ],
  },
  {
    id: 'assess-commercial-q4',
    platform: 'Commercial',
    quarter: 'Q4 2025',
    submittedBy: 'Commercial',
    submittedAt: '2025-12-16',
    reviewedBy: 'Consumer',
    reviewedAt: '2025-12-20',
    status: 'reviewed',
    answers: [
      { questionId: 'bt-1', score: 4, comments: 'Strong joint OKRs established.' },
      { questionId: 'bt-2', score: 3, comments: 'Feedback loops improving.' },
      { questionId: 'rc-1', score: 3, comments: 'Product teams owning build and run.' },
      { questionId: 'rc-2', score: 3, comments: 'Balance improving quarter over quarter.' },
      { questionId: 'pp-1', score: 4, comments: 'Mostly product-funded now.' },
      { questionId: 'pp-2', score: 3, comments: 'Product teams forming well.' },
      { questionId: 'pp-3', score: 3, comments: 'Value streams being defined.' },
      { questionId: 'pp-4', score: 3, comments: 'Customer understanding growing.' },
      { questionId: 'pp-5', score: 3, comments: 'Backlog refinement regular.' },
      { questionId: 'pp-6', score: 2, comments: 'Innovation limited to Horizon 1.' },
      { questionId: 'ag-1', score: 4, comments: 'Strong agile ceremonies.' },
      { questionId: 'ag-2', score: 3, comments: 'Good tool adoption.' },
      { questionId: 'ag-3', score: 3, comments: 'Predictability around 65%.' },
      { questionId: 'ag-4', score: 3, comments: 'Weekly releases for some teams.' },
      { questionId: 'ag-5', score: 4, comments: 'Retros well established.' },
      { questionId: 'ag-6', score: 3, comments: 'Planning adaptive in most areas.' },
      { questionId: 'ee-1', score: 2, comments: 'Building permanent team capability.' },
      { questionId: 'ee-2', score: 3, comments: 'CI/CD pipelines for key services.' },
      { questionId: 'ee-3', score: 2, comments: 'Starting AI pilot programs.' },
      { questionId: 'ee-4', score: 3, comments: 'Tech debt tracked in backlog.' },
      { questionId: 'dw-1', score: 3, comments: 'Automated controls expanding.' },
      { questionId: 'dw-2', score: 3, comments: 'Governance improving.' },
      { questionId: 'dw-3', score: 3, comments: 'Cross-functional progress.' },
    ],
  },
  {
    id: 'assess-wealth-q4',
    platform: 'Wealth & Investment',
    quarter: 'Q4 2025',
    submittedBy: 'Wealth & Investment',
    submittedAt: '2025-12-17',
    reviewedBy: null,
    reviewedAt: null,
    status: 'submitted',
    answers: [
      { questionId: 'bt-1', score: 2, comments: 'Silos still prevalent.' },
      { questionId: 'bt-2', score: 2, comments: 'Feedback loops minimal.' },
      { questionId: 'rc-1', score: 2, comments: 'Separate build and run teams.' },
      { questionId: 'rc-2', score: 2, comments: 'Stability challenges with change.' },
      { questionId: 'pp-1', score: 2, comments: 'Mostly project-funded.' },
      { questionId: 'pp-2', score: 2, comments: 'Project-based team structures.' },
      { questionId: 'pp-3', score: 2, comments: 'Product metrics not yet defined.' },
      { questionId: 'pp-4', score: 3, comments: 'Some customer insight available.' },
      { questionId: 'pp-5', score: 2, comments: 'Backlog management immature.' },
      { questionId: 'pp-6', score: 1, comments: 'No structured experimentation.' },
      { questionId: 'ag-1', score: 2, comments: 'Agile ceremonies inconsistent.' },
      { questionId: 'ag-2', score: 2, comments: 'Tools used but not embedded.' },
      { questionId: 'ag-3', score: 2, comments: 'Predictability low.' },
      { questionId: 'ag-4', score: 1, comments: 'Quarterly releases.' },
      { questionId: 'ag-5', score: 2, comments: 'Retros happen but ineffective.' },
      { questionId: 'ag-6', score: 2, comments: 'Planning rigid.' },
      { questionId: 'ee-1', score: 2, comments: 'Heavy contractor reliance.' },
      { questionId: 'ee-2', score: 2, comments: 'Some CI/CD in place.' },
      { questionId: 'ee-3', score: 1, comments: 'No AI practices.' },
      { questionId: 'ee-4', score: 1, comments: 'Tech debt not tracked.' },
      { questionId: 'dw-1', score: 3, comments: 'Manual controls mostly.' },
      { questionId: 'dw-2', score: 2, comments: 'Governance is a blocker.' },
      { questionId: 'dw-3', score: 2, comments: 'Functional silos remain.' },
    ],
  },
  {
    id: 'assess-insurance-q4',
    platform: 'Insurance',
    quarter: 'Q4 2025',
    submittedBy: 'Insurance',
    submittedAt: '2025-12-14',
    reviewedBy: 'Wealth & Investment',
    reviewedAt: '2025-12-19',
    status: 'reviewed',
    answers: [
      { questionId: 'bt-1', score: 3, comments: 'Joint working improving.' },
      { questionId: 'bt-2', score: 3, comments: 'Customer feedback being integrated.' },
      { questionId: 'rc-1', score: 3, comments: 'Teams taking ownership of run.' },
      { questionId: 'rc-2', score: 3, comments: 'Better balance being achieved.' },
      { questionId: 'pp-1', score: 3, comments: 'Product funding increasing.' },
      { questionId: 'pp-2', score: 3, comments: 'Product teams forming.' },
      { questionId: 'pp-3', score: 2, comments: 'Value streams being mapped.' },
      { questionId: 'pp-4', score: 3, comments: 'Customer-centric approach growing.' },
      { questionId: 'pp-5', score: 3, comments: 'Regular backlog refinement.' },
      { questionId: 'pp-6', score: 3, comments: 'Some Horizon 2 work starting.' },
      { questionId: 'ag-1', score: 3, comments: 'Ceremonies well practiced.' },
      { questionId: 'ag-2', score: 3, comments: 'Good agile tool usage.' },
      { questionId: 'ag-3', score: 3, comments: 'Improving predictability.' },
      { questionId: 'ag-4', score: 2, comments: 'Bi-weekly releases.' },
      { questionId: 'ag-5', score: 3, comments: 'Retros established.' },
      { questionId: 'ag-6', score: 3, comments: 'Adaptive planning.' },
      { questionId: 'ee-1', score: 2, comments: 'Building internal capability.' },
      { questionId: 'ee-2', score: 2, comments: 'CI/CD expanding.' },
      { questionId: 'ee-3', score: 1, comments: 'AI not yet adopted.' },
      { questionId: 'ee-4', score: 2, comments: 'Starting to track tech debt.' },
      { questionId: 'dw-1', score: 3, comments: 'Controls being automated.' },
      { questionId: 'dw-2', score: 3, comments: 'Governance integrated better.' },
      { questionId: 'dw-3', score: 2, comments: 'Working towards cross-functional.' },
    ],
  },
];
